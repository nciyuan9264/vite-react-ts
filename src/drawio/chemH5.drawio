<mxfile host="65bd71144e">
    <diagram id="W7EZeOvvmGPP1FRypE_D" name="第 1 页">
        <mxGraphModel dx="4388" dy="2280" grid="1" gridSize="30" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="&lt;ol class=&quot;children expanded&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; list-style-type: none ; padding-left: 12px ; display: block ; font-family: &amp;#34;menlo&amp;#34; , monospace ; font-size: 11px ; font-style: normal ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px&quot;&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;EffectFuncs&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-size: 16px&quot;&gt;&lt;ol class=&quot;children expanded&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; list-style-type: none ; padding-left: 12px&quot;&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;EffectFuncs&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;calGasEquation&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;calculateGasLiquidFinish&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;convertEquationToIonEquation&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;convertEquationToIonEquation&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (equation) {&amp;lt;br/&amp;gt;  // if (equation.PhysicalState.indexOf(&amp;#34;i&amp;#34;) === -1) {&amp;lt;br/&amp;gt;  if (true) {&amp;lt;br/&amp;gt;    var reactant = [];&amp;lt;br/&amp;gt;    var physicalState = [];&amp;lt;br/&amp;gt;    var modulus = [];&amp;lt;br/&amp;gt;    var originPhysicalState = equation.PhysicalState;&amp;lt;br/&amp;gt;    var originModulus = equation.Modulus;&amp;lt;br/&amp;gt;    var safeAndSond = true;&amp;lt;br/&amp;gt;    var medicineManager = ChemicalUtil.root.medicineManager;&amp;lt;br/&amp;gt;    equation.Reactants.forEach(function (v, i) {&amp;lt;br/&amp;gt;      var status = originPhysicalState[i];&amp;lt;br/&amp;gt;      var count = originModulus[i];&amp;lt;br/&amp;gt;      var nothingHappe…&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(equation)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;convertIonToChemicalName&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;convertIonToChemicalName&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (ion) {&amp;lt;br/&amp;gt;  var str = &amp;#34;&amp;#34;;&amp;lt;br/&amp;gt;  var valence = ion.getValence();&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (valence &amp;gt; 0) {&amp;lt;br/&amp;gt;    if (valence === 1) {&amp;lt;br/&amp;gt;      str = ion.name + plus;&amp;lt;br/&amp;gt;    } else {&amp;lt;br/&amp;gt;      str = ion.name + superScriptMap[valence] + plus;&amp;lt;br/&amp;gt;    }&amp;lt;br/&amp;gt;  } else if (valence &amp;lt; 0) {&amp;lt;br/&amp;gt;    if (valence === -1) {&amp;lt;br/&amp;gt;      str = ion.name + minus;&amp;lt;br/&amp;gt;    } else {&amp;lt;br/&amp;gt;      str = ion.name + superScriptMap[-valence] + minus;&amp;lt;br/&amp;gt;    }&amp;lt;br/&amp;gt;  } else {&amp;lt;br/&amp;gt;    str = ion.name;&amp;lt;br/&amp;gt;  }&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  return str;&amp;lt;br/&amp;gt;}&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(ion)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;covertVolumeToLiquid&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;covertVolumeToLiquid&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (medicineDataAry, volume) {&amp;lt;br/&amp;gt;  var len = medicineDataAry.length;&amp;lt;br/&amp;gt;  var sum = 0; // 先计算总体积&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  for (var i = 0; i &amp;lt; len; i++) {&amp;lt;br/&amp;gt;    var med = medicineDataAry[i];&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;    if (med.type === MedicineType.LIQUID) {&amp;lt;br/&amp;gt;      sum += med.getVol();&amp;lt;br/&amp;gt;    }&amp;lt;br/&amp;gt;  }&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var result = []; // 在通过比例计算&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  for (i = 0; i &amp;lt; len; i++) {&amp;lt;br/&amp;gt;    med = medicineDataAry[i];&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;    if (med.type === MedicineType.LIQUID) {&amp;lt;br/&amp;gt;      var cloneMed = med.deepClone();&amp;lt;br/&amp;gt;      cloneMed.setVol(volume * med.getVol() / sum);&amp;lt;br/&amp;gt;      result.push(clone…&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(medicineDataAry, volume)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;fitToIonEquationToChemEquation&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;fitToIonEquationToChemEquation&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (equationDat, ionAry, product, container, type) {&amp;lt;br/&amp;gt;  var resultObj = {&amp;lt;br/&amp;gt;    equationDat: equationDat,&amp;lt;br/&amp;gt;    reactants: [],&amp;lt;br/&amp;gt;    products: []&amp;lt;br/&amp;gt;  };&amp;lt;br/&amp;gt;  var reactants = resultObj.reactants;&amp;lt;br/&amp;gt;  var products = resultObj.products;&amp;lt;br/&amp;gt;  var modules = equationDat.Modulus; //  这里为什么要设置一下priority呢，是因为，在方程式显示的过程中，我希望那种正常的方程式有的话， 就不显示这种自己的合成的不是那么靠谱的方程式，一般这种方程式不是人家想要的，加上priority之后，在EquationUtil.normalizeEquation筛选的时候会根据情况过滤掉&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (product !== &amp;#34;Fe(OH)2&amp;#34;) {&amp;lt;br/&amp;gt;    equationDat.priority = 9901;&amp;lt;br/&amp;gt;  }&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  for (var i = …&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(equationDat, ionAry, product, container, type)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;genEffectFunc&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;generageIonEquation&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;generageIonEquation&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (ary, product, type) {&amp;lt;br/&amp;gt;  if (ionEquations[product]) return ionEquations[product];&amp;lt;br/&amp;gt;  var convert = ChemicalUtilTool.convertToChemicalName;&amp;lt;br/&amp;gt;  var status;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (!type) {&amp;lt;br/&amp;gt;    type = &amp;#34;&amp;#34;;&amp;lt;br/&amp;gt;    status = &amp;#34;l&amp;#34;;&amp;lt;br/&amp;gt;  } else if (type === &amp;#34;solid&amp;#34;) {&amp;lt;br/&amp;gt;    type = solidSign;&amp;lt;br/&amp;gt;    status = &amp;#34;s&amp;#34;;&amp;lt;br/&amp;gt;  } else {&amp;lt;br/&amp;gt;    type = gasSign;&amp;lt;br/&amp;gt;    status = &amp;#34;g&amp;#34;;&amp;lt;br/&amp;gt;  }&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var modules = [];&amp;lt;br/&amp;gt;  var reactants = [];&amp;lt;br/&amp;gt;  var physicalState = [];&amp;lt;br/&amp;gt;  ary.forEach(function (o) {&amp;lt;br/&amp;gt;    modules.push(o.count);&amp;lt;br/&amp;gt;    reactants.push(&amp;#34;&amp;#34;.concat(o.name, &amp;#34;…&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(ary, product, type)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;generageIonEquation1&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;generageIonEquation1&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (container, ary, equationInfo, type) {&amp;lt;br/&amp;gt;  var showIon = nb.isIonEquation;&amp;lt;br/&amp;gt;  var infoArrays = equationInfo.array;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (showIon) {&amp;lt;br/&amp;gt;    var indexMap = [1, 0];&amp;lt;br/&amp;gt;    var _reactants = equationInfo.reactant;&amp;lt;br/&amp;gt;    var product = equationInfo.product[1];&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;    for (var i = 0; i &amp;lt; _reactants.length; i++) {&amp;lt;br/&amp;gt;      var info = _reactants[i];&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;      if (!info.dat.kab &amp;amp;&amp;amp; info.name !== &amp;#34;H2O&amp;#34;) {&amp;lt;br/&amp;gt;        (function () {&amp;lt;br/&amp;gt;          var currentIon = info.currentIon,&amp;lt;br/&amp;gt;              anotherIon = info.anotherIon,&amp;lt;br/&amp;gt; …&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(container, ary, equationInfo, type)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;generalFindEquation&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;getChemicalsFromIons&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;getChemicalsFromIons1&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;getChemicalsFromIons1&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (ions, medicineManager) {&amp;lt;br/&amp;gt;  // 离子组合&amp;lt;br/&amp;gt;  var ionsGroup = ChemicalConst.ionsGroup; // 正离子数组&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var posIons = []; // 负离子数组&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var negIons = []; // 返回的数据&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var result = {};&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  for (var i = 0; i &amp;lt; ions.length; i++) {&amp;lt;br/&amp;gt;    var ion = ions[i];&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;    if ((ion.valence || ion.dat.valence) &amp;gt; 0) {&amp;lt;br/&amp;gt;      posIons.push(ion);&amp;lt;br/&amp;gt;    } else {&amp;lt;br/&amp;gt;      negIons.push(ion);&amp;lt;br/&amp;gt;    }&amp;lt;br/&amp;gt;  } // 先遍历正离子&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  for (var _i7 = 0; _i7 &amp;lt; posIons.length; _i7++) {&amp;lt;br/&amp;gt;    var _ion = posIons[_i7]; // 正离子map&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;    var posIonMap = ionsGroup[_…&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(ions, medicineManager)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;getMedicineData&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;getMedicineData&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function getMedicineData(chemicalName) {&amp;lt;br/&amp;gt;      return this.medData[chemicalName];&amp;lt;br/&amp;gt;    }&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;getMedicineData(chemicalName)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;getMoleculeDensity&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;getMoleculeDensity&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (name) {&amp;lt;br/&amp;gt;  return densityMap[name];&amp;lt;br/&amp;gt;}&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(name)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;getSO2DissolveRate&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;separateOut&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;setMoleculeDensity&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;setMoleculeDensity&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (name, s, l, g) {&amp;lt;br/&amp;gt;  var dat = densityMap[name] || {};&amp;lt;br/&amp;gt;  dat.s = s || dat.s;&amp;lt;br/&amp;gt;  dat.l = l || dat.l;&amp;lt;br/&amp;gt;  dat.g = g || dat.g;&amp;lt;br/&amp;gt;  densityMap[name] = dat;&amp;lt;br/&amp;gt;}&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(name, s, l, g)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;solidDeliquesce&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;solidDeliquesce&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-function value&quot; title=&quot;function (container) {&amp;lt;br/&amp;gt;  //容器是开口得&amp;lt;br/&amp;gt;  //如果容器内有水判断NaOH 是否在水里 否则不判断&amp;lt;br/&amp;gt;  //容器内如果是闭口得 判断里面是否有水蒸气&amp;lt;br/&amp;gt;  var NaOHGra = container.medicineNBGraphicMap.get(&amp;#34;NaOH&amp;#34;);&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (!NaOHGra) {&amp;lt;br/&amp;gt;    return;&amp;lt;br/&amp;gt;  }&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var NaOHSolid = container.medicineData.solidAry.NaOH;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (!NaOHSolid || NaOHSolid.getMol &amp;lt; 1e-7) {&amp;lt;br/&amp;gt;    return;&amp;lt;br/&amp;gt;  }&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  var delNaOH = [];&amp;lt;br/&amp;gt;  var H2O = container.medicineData.gasAry.quickMap.get(&amp;#34;H2O&amp;#34;);&amp;lt;br/&amp;gt;  var conf = container;&amp;lt;br/&amp;gt;  var sumWater = container.medicineManager.getMedicineData(&amp;#34;H2O&amp;#34;); //容器内含有NaOH&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;  if (…&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;&lt;span class=&quot;object-value-function-prefix&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;ƒ&amp;nbsp;&lt;/span&gt;(container)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;splitMedicineNameToIon&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;subscriptMap&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;subscriptMap&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-object value&quot; title=&quot;Object&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;span class=&quot;object-properties-preview&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;{&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;0&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₀'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;1&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₁'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;2&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₂'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;3&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₃'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;4&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₄'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;5&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₅'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;6&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₆'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;7&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₇'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;8&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₈'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;9&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'₉'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;.&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'·'&lt;/span&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class=&quot;parent&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex ; align-items: center&quot;&gt;&lt;span class=&quot;name-and-value&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; line-height: 16px ; display: flex&quot;&gt;&lt;span class=&quot;name own-property&quot; title=&quot;superScriptMap&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;superScriptMap&lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;separator&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;: &lt;/font&gt;&lt;/span&gt;&lt;span class=&quot;object-value-object value&quot; title=&quot;Object&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;span class=&quot;object-properties-preview&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 16px&quot;&gt;{&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;0&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'º'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;1&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'¹'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;2&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'²'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;3&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'³'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;4&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁴'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;5&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁵'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;6&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁶'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;7&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁷'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;8&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁸'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;9&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁹'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;-&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁻'&lt;/span&gt;,&amp;nbsp;&lt;span class=&quot;name&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;+&lt;/span&gt;:&amp;nbsp;&lt;span class=&quot;object-value-string&quot; style=&quot;box-sizing: border-box ; min-width: 0px ; min-height: 0px&quot;&gt;'⁺'&lt;/span&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="960" y="-15" width="1350" height="630" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="loadData (&quot;assets/effect.json&quot;)" style="ellipse;" parent="1" vertex="1">
                    <mxGeometry x="-165" width="240" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="EffectFuncs: (803) [{…}, {…}, …]&#10;EquationMap: {1234: {…}, Ag: {…}, …}" style="text;fontSize=14;fontFamily=Helvetica;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="105" y="7.5" width="255" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="if (container.engine)" style="edgeStyle=none;fontFamily=Helvetica;fontSize=17;fontColor=#FFFFFF;" parent="1" source="7" target="9" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="-30" y="240"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="7" value="genEffectFunc (container, dt, forceSpeed)" style="ellipse;fontFamily=Helvetica;fontSize=14;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="-180" y="120" width="300" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="13" style="edgeStyle=none;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=14;fontColor=#FFFFFF;" parent="1" source="9" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="-30" y="240" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="26" style="edgeStyle=none;html=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=17;fontColor=#FFFFFF;" parent="1" source="9" target="22" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="" style="edgeStyle=none;html=0;fontFamily=Helvetica;fontSize=17;fontColor=#FFFFFF;" parent="1" source="9" target="27" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="9" target="52" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="calOtherEquation (container, h2oVo, dt, existEquations, reactionOri, fromEleMetal)" style="rounded=1;fontFamily=Helvetica;fontSize=14;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="-300" y="240" width="540" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="openContainerGetGasAry (container, gasAry, containerParent = {}, reactionOri)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1785" y="240" width="600" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="" style="edgeStyle=none;html=1;fontFamily=Helvetica;fontSize=14;fontColor=#FFFFFF;" parent="1" source="16" target="18" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="generalFindEquation (array, aspirate, medicineManager, phy, container, fromBlock, reactantMedName)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1290" y="380" width="660" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="privateFindReaction (array, reg)" style="whiteSpace=wrap;fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1590" y="380" width="210" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="addAnyMedicine (medVo, container, graphics, fromLiquid, dt, equationDat, fromEleMetal)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="360" y="240" width="570" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="" style="edgeStyle=none;html=0;fontFamily=Helvetica;fontSize=16;fontColor=#FFFFFF;" parent="1" source="27" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="-480" y="855" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="34" value="" style="edgeStyle=none;html=0;fontFamily=Helvetica;fontSize=16;fontColor=#80FF00;" parent="1" source="27" target="33" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="27" value="calLiquidEquation (container, medH2OVo, dt)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-300" y="825" width="540" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="" style="edgeStyle=none;html=0;fontFamily=Helvetica;fontSize=16;fontColor=#FFFFFF;" parent="1" source="29" target="31" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="29" value="splitMedicineNameToIon (chemicalName)&#10;// 计算出当前溶液中的所有的可以电离的物质" style="whiteSpace=wrap;fontSize=14;fontColor=#FFFFFF;rounded=1;labelBorderColor=none;verticalAlign=middle;spacingTop=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-795" y="945" width="300" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="getChemicalsFromIons (ions, medicineManager)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-810" y="1055" width="330" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="" style="edgeStyle=none;html=0;fontFamily=Helvetica;fontSize=16;fontColor=#80FF00;" parent="1" source="33" target="35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="calGasEquation (container, h2oMed)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-300" y="1710" width="540" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="getSO2DissolveRate (medicineData)" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-780" y="1710" width="270" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="38" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="37" target="29" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="37" target="39" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="liquidStrong (container, dt, medicineManager, medH2OVo)" style="rounded=1;fontSize=14;" parent="1" vertex="1">
                    <mxGeometry x="-832.5" y="825" width="375" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="42" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="39" target="41" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="39" value="找到特殊液体" style="whiteSpace=wrap;html=1;fontSize=14;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1395" y="825" width="355" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="44" value="可以电离" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="41" target="43" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="不能电离" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="41" target="46" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="41" target="48" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="遍历容器内固体" style="whiteSpace=wrap;html=1;fontSize=14;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1395" y="975" width="360" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="calStrongElectrolyte" style="whiteSpace=wrap;html=1;fontSize=14;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1740" y="915" width="217.5" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="46" value="dissolveSolid" style="whiteSpace=wrap;html=1;fontSize=14;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1740" y="1035" width="217.5" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="48" target="50" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="&lt;span&gt;遍历容器内液体（&lt;/span&gt;&lt;span&gt;析出不可电离）&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=14;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1395" y="1140" width="360" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="separateOut (solution, solvent, name, vo, container)" style="fontSize=14;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1875" y="1140" width="390" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="54" value="" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="52" target="16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="55" value="Y" style="edgeStyle=none;html=1;fontSize=14;" parent="1" source="52" target="11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="大敞口容器" style="fontSize=14;fontColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="-1092.5" y="240" width="265" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>